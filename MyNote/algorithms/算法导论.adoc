= 算法导论 =
Korov9 <korov9@163.com>
v1.0 2021-12-05
:toc: right
:imagesdir: images
:source-highlighter: pygments
:source-language: java

== 红黑树 ==

=== 红黑树的性质

红黑树是一颗二叉搜索树，它在每个节点上增加了一个存储位来表示节点的颜色，可以是 `RED` 或 `BLACK` 。通过对任何一条从根到叶子的简单路径上各个节点的颜色进行约束，红黑树确保没有一条路径会比其他路径长出2倍，因而近似于平衡的。

树中每个节点包含5个属性：color,key,left,right和p。如果一个节点没有子节点或父节点，则该节点相应指针属性的值为NIL。我们可以把这些NIL视为指向二叉搜索树的叶节点（外部节点）的指针，而把带关键字的节点视为树的内部节点。

一颗红黑树是满足下面红黑性质的二叉搜索树：

. 每个节点是红色或者黑色
. 根节点是黑色
. 每个叶节点（NIL）是黑色
. 如果一个节点是红色的，则他的两个子节点都是黑色的
. 对每个节点，从该节点到期所有后代叶节点的简单路径上，均包含相同数目的黑色节点

**黑高** ：从某个节点x出发（不含该节点）到达一个叶节点的任意一条简单路径上的黑色节点个数称为该节点的黑高，记为 `bh(x)`。

引理：一颗有n个内部节点的红黑树的高度至多为 `2lg(n+1)`

=== 旋转

旋转为左旋和右旋

image::image-20210816172310118.png[]

=== 插入

将节点z插入树T内，就好象T是一颗普通二叉搜索树一样，然后将z着为红色。为保证红黑性质能继续保持，我们调用一个辅助程序RB-INSERT-FIXUP来对节点重新着色并旋转。

image::image-20210816211930699.png[]
image::image-20210816212423900.png[]
image::image-20210816212527904.png[]